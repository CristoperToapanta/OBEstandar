<?xml version="1.0"?>
  <database name="TRIGGER SSCA_C_EDITABLEDATES_TRG">
    <trigger name="SSCA_C_EDITABLEDATES_TRG" table="C_INVOICE" fires="before" insert="true" update="true" delete="false" foreach="row">
      <body><![CDATA[
	fchacontable	timestamp without time zone; --OBTG:VARCHAR2--
	fechafactura	timestamp without time zone; --OBTG:VARCHAR2--
	--vtypeId	VARCHAR(32); --OBTG:VARCHAR2--
	vSeq			RECORD;

BEGIN

IF AD_isTriggerEnabled() = 'N' THEN RETURN;END IF;
	
	
		IF (INSERTING OR UPDATING) THEN
		
			fchacontable = :new.DateAcct;
			fechafactura = :new.DateInvoiced;
			if(fchacontable>now() or fechafactura>now()) then
				RAISE_APPLICATION_ERROR(-20000, '@SSCA_ERROR_EDITABLE_DATES@') ;
			end if;
			
 			
			
		END IF;
	
		END SSCA_C_EDITABLEDATES_TRG
]]></body>
    </trigger>
  </database>
